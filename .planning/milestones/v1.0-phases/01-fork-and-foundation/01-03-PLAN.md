---
phase: 01-fork-and-foundation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - ~/.claude/commands/scope-check.md
  - ~/.claude/commands/simplify.md
  - ~/.claude/commands/dead-code-sweep.md
  - ~/.claude/commands/prove-it.md
  - ~/.claude/commands/grill-me.md
  - ~/.claude/commands/change-summary.md
  - ~/.claude/commands/update-claude-md.md
autonomous: true
requirements:
  - SKIL-01
  - SKIL-02
  - SKIL-03
  - SKIL-04
  - SKIL-05
  - SKIL-06
  - SKIL-07

must_haves:
  truths:
    - "User can invoke `/scope-check` and it reviews recent changes for scope violations"
    - "User can invoke `/simplify` and it audits code for unnecessary complexity"
    - "User can invoke `/dead-code-sweep` and it finds unreachable/unused code"
    - "User can invoke `/prove-it` and it demands evidence that changes work correctly"
    - "User can invoke `/grill-me` and it performs aggressive code review"
    - "User can invoke `/change-summary` and it generates a structured change report"
    - "User can invoke `/update-claude-md` and it drafts CLAUDE.md updates from session learnings"
  artifacts:
    - path: "~/.claude/commands/scope-check.md"
      provides: "Scope verification skill command"
      contains: "name: scope-check"
    - path: "~/.claude/commands/simplify.md"
      provides: "Simplification audit skill command"
      contains: "name: simplify"
    - path: "~/.claude/commands/dead-code-sweep.md"
      provides: "Dead code detection skill command"
      contains: "name: dead-code-sweep"
    - path: "~/.claude/commands/prove-it.md"
      provides: "Correctness proof skill command"
      contains: "name: prove-it"
    - path: "~/.claude/commands/grill-me.md"
      provides: "Aggressive code review skill command"
      contains: "name: grill-me"
    - path: "~/.claude/commands/change-summary.md"
      provides: "Change documentation skill command"
      contains: "name: change-summary"
    - path: "~/.claude/commands/update-claude-md.md"
      provides: "CLAUDE.md maintenance skill command"
      contains: "name: update-claude-md"
  key_links:
    - from: "~/.claude/commands/scope-check.md"
      to: "git diff"
      via: "Bash tool with git commands"
      pattern: "git diff"
    - from: "~/.claude/commands/prove-it.md"
      to: "test runner / git diff"
      via: "Bash tool for running tests and comparing branches"
      pattern: "prove.*works"
---

<objective>
Create 7 quality skill commands as standalone Claude Code slash commands, derived from the specifications in SKILLS.md. These are new files (not forks of existing GSD files) registered at the top level of `~/.claude/commands/` (not under a `mow/` namespace).

Purpose: The quality skills are general-purpose tools that work independently of the Mowism workflow system. Registering them as top-level commands (`/scope-check`, `/simplify`, etc.) makes them available as standalone tools while being shipped as part of Mowism.

Output: 7 new command files in `~/.claude/commands/` implementing the quality skill specifications.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-fork-and-foundation/01-RESEARCH.md

Skill specifications (read these for each skill's detailed behavior):
@/home/max/git/ai-agent-tools-and-tips/SKILLS.md
@/home/max/git/ai-agent-tools-and-tips/RECOMMENDED-WORKFLOW-CHAIN.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create scope-check, simplify, dead-code-sweep, and prove-it commands</name>
  <files>
    ~/.claude/commands/scope-check.md
    ~/.claude/commands/simplify.md
    ~/.claude/commands/dead-code-sweep.md
    ~/.claude/commands/prove-it.md
  </files>
  <action>
    Create each command file with proper Claude Code command structure: YAML frontmatter (name, description, argument-hint, allowed-tools) and a markdown body defining the skill's objective, process, and output format.

    **`/scope-check`** (SKIL-01):
    - Source: Karpathy — "Touch only what you're asked to touch."
    - allowed-tools: Read, Bash, Grep, Glob
    - argument-hint: "[description of original task or commit range]"
    - Process: (1) Determine original task intent from $ARGUMENTS or recent commits, (2) Review all modified files via `git diff` (or `git diff HEAD~N`), (3) Classify each change as IN-SCOPE, OUT-OF-SCOPE, or WARNING, (4) Present findings with recommendations to revert out-of-scope changes, (5) Give verdict: PASS or FAIL
    - Output format: Table of files with classification, followed by verdict

    **`/simplify`** (SKIL-02):
    - Source: Karpathy — "If you build 1000 lines and 100 would suffice, you have failed."
    - allowed-tools: Read, Bash, Grep, Glob, Edit
    - argument-hint: "[file or directory to audit]"
    - Process: (1) Read target files, (2) Evaluate every function/class for line count, abstraction value, premature generalization, (3) Check for: bloated abstractions, premature generalization, clever tricks, helper functions used once, backwards-compat shims, (4) Present simplification opportunities with severity and estimated savings, (5) Ask which to apply before making changes
    - The rule: three similar lines of code is better than a premature abstraction

    **`/dead-code-sweep`** (SKIL-03):
    - Source: Karpathy — "After refactoring: identify code that is now unreachable."
    - allowed-tools: Read, Bash, Grep, Glob
    - argument-hint: "[context about recent refactor or feature removal]"
    - Process: (1) Analyze recent changes and trace their impact, (2) Search for orphaned functions, unused imports, unreferenced types, dead config entries, (3) Verify each finding with grep to confirm zero references, (4) Present confirmed dead code and possibly-dead code separately, (5) Ask for per-item approval before recommending deletion
    - Never delete without asking. The skill IDENTIFIES dead code; the user decides what to delete.

    **`/prove-it`** (SKIL-04):
    - Source: Boris Cherny — "Say 'Prove to me this works.'"
    - allowed-tools: Read, Bash, Grep, Glob, Write
    - argument-hint: "[claim to prove, e.g. 'the new caching layer doesn't change API responses']"
    - Process: (1) Identify what behaviors need verification, (2) Gather evidence: run tests, diff branch outputs, write verification scripts if needed, (3) Present structured proof with claims, evidence per scenario, pass/fail per claim, (4) Explicitly flag anything that could NOT be verified and why
    - Output format: Structured proof table — Claim | Evidence | Verdict
  </action>
  <verify>
    Run `ls ~/.claude/commands/scope-check.md ~/.claude/commands/simplify.md ~/.claude/commands/dead-code-sweep.md ~/.claude/commands/prove-it.md` — all 4 files should exist.
    Run `grep 'name: scope-check' ~/.claude/commands/scope-check.md` — should match.
    Run `grep 'allowed-tools' ~/.claude/commands/scope-check.md` — should show tool list.
    Verify each file has YAML frontmatter (starts with `---`) and a process section.
  </verify>
  <done>
    Four quality skill command files exist with proper Claude Code command structure (YAML frontmatter with name, description, argument-hint, allowed-tools) and detailed process descriptions derived from SKILLS.md specifications.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create grill-me, change-summary, and update-claude-md commands</name>
  <files>
    ~/.claude/commands/grill-me.md
    ~/.claude/commands/change-summary.md
    ~/.claude/commands/update-claude-md.md
  </files>
  <action>
    Create each command file with proper Claude Code command structure.

    **`/grill-me`** (SKIL-05):
    - Source: Boris Cherny — "Grill me on these changes and don't make a PR until I pass your test."
    - allowed-tools: Read, Bash, Grep, Glob
    - argument-hint: (none — operates on current changes)
    - Process: (1) Read all uncommitted/recently committed changes via git diff/log, (2) Understand the intent of the changes, (3) Challenge on every axis: correctness, edge cases, security, performance, naming, simplicity, test coverage, error handling, hidden assumptions, (4) Format as formal review with categories: BLOCKERS (must fix), SHOULD-FIX (strongly recommended), QUESTIONS (need answers), NITS (style/preference), (5) Give honest verdict: APPROVE, REQUEST CHANGES, or NEEDS DISCUSSION
    - The skill must NOT be sycophantic. If changes have problems, say so bluntly.

    **`/change-summary`** (SKIL-06):
    - Source: Karpathy — "After any modification, summarize: what changed and why, what you didn't touch and why, and potential concerns."
    - allowed-tools: Read, Bash, Grep, Glob
    - argument-hint: "[optional: specific commit range or file scope]"
    - Process: (1) Collect all modified files from git diff/status, (2) Document each change with the WHY not just the WHAT, (3) Explicitly list files that were intentionally NOT modified and why, (4) Flag risks and untested areas, (5) List assumptions baked into the changes
    - Output format: Structured report with sections: Changes Made (file, what, why), Files Not Touched (file, reason), Risks/Concerns, Assumptions, Testing Status

    **`/update-claude-md`** (SKIL-07):
    - Source: Boris Cherny — "Update your CLAUDE.md so you don't make that mistake again."
    - allowed-tools: Read, Write, Edit, Bash
    - argument-hint: "[optional: specific lesson or correction to capture]"
    - Process: (1) Review the current session for corrections, mistakes, and learnings, (2) Read the existing CLAUDE.md, (3) Draft precise updates — rules framed as instructions to future-self WITH the WHY included, (4) Present the diff for user approval, (5) Apply ONLY after user confirms
    - Rules must be specific and actionable, not vague. "Don't use library X for Y because Z" not "Be careful with libraries."
    - NEVER modify CLAUDE.md without user approval.
  </action>
  <verify>
    Run `ls ~/.claude/commands/grill-me.md ~/.claude/commands/change-summary.md ~/.claude/commands/update-claude-md.md` — all 3 files should exist.
    Run `grep 'name: grill-me' ~/.claude/commands/grill-me.md` — should match.
    Run `grep 'name: change-summary' ~/.claude/commands/change-summary.md` — should match.
    Run `grep 'name: update-claude-md' ~/.claude/commands/update-claude-md.md` — should match.
    Verify each file has YAML frontmatter and a detailed process section.
  </verify>
  <done>
    Three quality skill command files exist with proper Claude Code command structure and detailed process descriptions. All 7 quality skills (scope-check, simplify, dead-code-sweep, prove-it, grill-me, change-summary, update-claude-md) are now registered as top-level Claude Code commands.
  </done>
</task>

</tasks>

<verification>
1. `ls ~/.claude/commands/{scope-check,simplify,dead-code-sweep,prove-it,grill-me,change-summary,update-claude-md}.md | wc -l` returns 7
2. Each file has valid YAML frontmatter with `name`, `description`, `allowed-tools`
3. Each file has a detailed process section matching the SKILLS.md specification
4. No files reference "gsd" (these are new creations, not forks)
5. Tool permissions match each skill's needs (e.g., update-claude-md has Write/Edit, scope-check has Bash for git)
</verification>

<success_criteria>
- All 7 quality skill commands exist as top-level Claude Code commands
- Each skill has appropriate tool permissions for its function
- Each skill's process matches the SKILLS.md specification
- Skills are self-contained (no dependencies on mow-tools.cjs or mow workflows)
</success_criteria>

<output>
After completion, create `.planning/phases/01-fork-and-foundation/01-03-SUMMARY.md`
</output>
