# GSD Upstream Changes Since Fork (2026-02-24)

GSD at v1.20.6 (24 releases in Feb 2026). Fork divergence confirmed impractical to merge.

## Must Port (confirmed bugs exist in Mowism)

### 1. STATE.md Dollar Sign Corruption (PR #701)
- **Bug**: `String.replace(regex, replacement)` treats `$1`, `$2` in decision text as backreferences
- **Files**: `bin/mow-tools.cjs` lines 2131, 2154, 2186 — state mutators
- **Fix**: Use callback replacers instead of string replacement
- **Effort**: Easy

### 2. Phase Requirement IDs Not Propagating (PR #702)
- **Bug**: `{phase_req_ids}` template variable always empty — init functions never extract Requirements field from ROADMAP
- **Files**: `bin/mow-tools.cjs` cmdInitPlanPhase, cmdInitExecutePhase
- **Fix**: Extract requirements from ROADMAP via getRoadmapPhaseInternal, include in init JSON
- **Effort**: Medium

### 3. Feature Branch Created Too Late (PR #512)
- **Bug**: With `branching_strategy: "phase"`, discuss/plan commits land on main before execution creates branch
- **Files**: `mowism/workflows/discuss-phase.md`, `plan-phase.md`
- **Fix**: Add `handle_branching` step to discuss-phase and plan-phase
- **Effort**: Easy

### 4. Progress Bar RangeError (PR #715)
- **Bug**: Orphaned SUMMARY files → negative argument to String.repeat() → crash
- **Fix**: Audit ALL percent computation sites, add Math.min(100, ...) clamping
- **Effort**: Easy

### 5. Executor No Attempt Limit (v1.19.2)
- **Bug**: Executor can loop indefinitely on failing task
- **Fix**: Add scope boundary and max attempt limit to executor agent/workflow
- **Effort**: Easy

### 6. Plan-Without-Discuss / Discuss-After-Plans Guards (v1.20.0)
- **Bug**: No guards against workflow misordering
- **Fix**: Add conditional checks — plan-phase warns if no CONTEXT.md, discuss-phase warns if plans exist
- **Effort**: Easy

### 7. Health --repair Overwrites STATE.md Without Backup (v1.20.5)
- **Fix**: Create timestamped backup before regeneration
- **Effort**: Easy

### 8. Subagents Don't Discover Project CLAUDE.md (v1.20.5)
- **Bug**: Spawned subagents lack project context
- **Fix**: Update subagent spawn points in workflows to include project context
- **Effort**: Medium

### 9. Todo Marked Done Before Work Starts (PR #543)
- **Bug**: Todos move to done/ on "Work on it now" before any work happens
- **Fix**: Add `in-progress/` state, `todo start` subcommand
- **Effort**: Medium

## Should Consider

| Item | Rationale | Effort |
|------|-----------|--------|
| Context window monitor hook (PR #638) | PostToolUse hook warns at 35%/25% remaining — very valuable for long-running workers | Medium |
| Nyquist validation layer (PR #687) | Requires plan tasks to have verify commands; blocks undertested plans | Medium |
| Requirements tracking chain (v1.20.2-3) | Full propagation: roadmap → researcher → planner → checker → executor → verifier | Hard |
| mow-tools.cjs domain split (PR #691) | 8,200 lines → 11 modules; long-term maintenance win | Hard |
| Discuss-phase gray area looping (v1.20.6) | Ambiguous preferences trigger follow-up probing | Easy |
| Debug human-verify gate (PR #640) | Prevents auto-archive without human confirmation | Easy |
| `--full` flag for /mow:quick (v1.20.0) | Enables plan-checking and verification for quick tasks | Easy |
| Auto-advance pipeline (v1.19.1) | `--auto` chains discuss → plan → execute; complex for worktree arch | Hard |

## Key Inform (no code, just awareness)

- **Skills don't resolve in Task() subagents** — must use @file references in Task() prompts
- **GSD reverted its Memory system** (v1.11.3) — "not ready for release"
- **GSD at 32 commands** vs Mowism at 35

## GSD Status

- Stars: 18,284 | Forks: 1,644
- Expanding to 4 runtimes (Claude Code, OpenCode, Gemini CLI, Codex)
- No worktree support (proposed twice, both rejected)
- No Agent Teams support (4 open PRs, none merged)
- No phase-level parallelism (still linear phases with plan-level waves)
- Thin orchestrator pattern, gsd-tools split into 11 modules
