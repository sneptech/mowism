---
phase: 03-agent-teams-and-distribution
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - bin/install.sh
  - README.md
autonomous: true
requirements:
  - DIST-01
  - DIST-03
  - DIST-04
  - DIST-05

must_haves:
  truths:
    - "User can run ./install.sh and all /mow:* commands, agents, workflows, templates, references, bin, and help files are copied to ~/.claude/"
    - "Install script checks for Node.js, WorkTrunk, and Agent Teams and reports status without blocking on missing deps"
    - "Post-install summary shows what was installed, what deps are missing, and suggests /mow:new-project"
    - "README.md explains what Mowism is, how to install (git clone + ./install.sh), and how to use"
  artifacts:
    - path: "bin/install.sh"
      provides: "One-command install script"
      min_lines: 50
    - path: "README.md"
      provides: "GitHub README for distribution"
      min_lines: 40
  key_links:
    - from: "bin/install.sh"
      to: "~/.claude/commands/mow/"
      via: "cp command files"
      pattern: "commands/mow"
    - from: "bin/install.sh"
      to: "~/.claude/mowism/"
      via: "cp -r core files"
      pattern: "mowism"
    - from: "bin/install.sh"
      to: "command -v wt"
      via: "WorkTrunk dependency check"
      pattern: "command -v wt"
---

<objective>
Create the install script and GitHub README for Mowism distribution.

Purpose: New users need a single install path (git clone + ./install.sh) that registers all /mow:* skills in ~/.claude/ and checks dependencies. The README is the entry point for discovery.

Output: bin/install.sh (executable), README.md
</objective>

<execution_context>
@/home/max/.claude/get-shit-done/workflows/execute-plan.md
@/home/max/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-agent-teams-and-distribution/03-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create install.sh</name>
  <files>bin/install.sh</files>
  <action>
  Create `bin/install.sh` as a bash script (`#!/bin/bash`, `set -euo pipefail`). The script:

  1. **Determine paths:**
     - `MOWISM_SRC` = directory containing install.sh (the repo root, one level up from bin/)
     - `CLAUDE_DIR` = `$HOME/.claude`
     - `MOWISM_DEST` = `$CLAUDE_DIR/mowism`

  2. **Create directories:**
     - `$CLAUDE_DIR/commands/mow/`
     - `$CLAUDE_DIR/agents/`
     - `$MOWISM_DEST/` (and subdirs: workflows, templates, references, bin, help)

  3. **Copy files (from repo source to install location):**
     - `commands/mow/*.md` -> `$CLAUDE_DIR/commands/mow/`
     - `commands/*.md` (top-level quality skills) -> `$CLAUDE_DIR/commands/`
     - `agents/mow-*.md` (if any exist in repo) -> `$CLAUDE_DIR/agents/`
     - Mowism core directory tree: the install script must replicate what Phase 1 established. Since mowism core files live at `~/.claude/mowism/` already (put there during Phase 1 fork), the install script should copy from the repo's canonical locations. Check what directories exist under the repo root -- look at the actual structure (bin/, commands/, and any agents/ or mowism/ subdirectories).

     **Important:** The repo structure has `bin/` (mow-tools.cjs) and `commands/` but the mowism/ directory (workflows, templates, references) lives at `~/.claude/mowism/` and was placed there during the Phase 1 fork. The install script should handle this:
     - If `$MOWISM_SRC/mowism/` exists (i.e., these files are moved into the repo): `cp -r "$MOWISM_SRC/mowism/"* "$MOWISM_DEST/"`
     - Always copy: `cp "$MOWISM_SRC/bin/mow-tools.cjs" "$MOWISM_DEST/bin/"`
     - Always copy: commands as described above

  4. **Check dependencies (check and report per locked decision, NEVER block):**
     - Node.js: `command -v node` -- MISSING message includes "Required for mow-tools.cjs" and install link
     - WorkTrunk: `command -v wt` -- MISSING message includes "Required for multi-worktree workflows" and install commands for Arch, macOS, Cargo (DIST-03)
     - Agent Teams: check `$CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS` -- NOT ENABLED message says "(optional but recommended)" with exact enable instructions: shell export and settings.json snippet (DIST-04)

  5. **Post-install summary (per locked decision, reference GSD pattern):**
     ```
     Mowism installed successfully!

     Installed to: ~/.claude/
       Commands:  X files in commands/mow/
       Skills:    Y files in commands/
       Bin:       mow-tools.cjs

     Dependencies:
       Node.js:     vXX.X [OK] / MISSING
       WorkTrunk:   vX.X [OK] / MISSING
       Agent Teams: ENABLED [OK] / NOT ENABLED (optional)

     Get started:  /mow:new-project
     Need help:    /mow:help
     ```

  6. Make the script executable: the Write tool creates the file, so also note that `chmod +x bin/install.sh` must be run.

  Per locked decision: install scope is global only (~/.claude/). No local project installs. Dependencies are checked and reported, never block installation.
  </action>
  <verify>Run `bash -n bin/install.sh` to syntax-check the script. Then `chmod +x bin/install.sh && bin/install.sh` to test the install (safe -- it copies to ~/.claude/ which already has these files from Phase 1).</verify>
  <done>install.sh copies all command and bin files to ~/.claude/, checks Node.js/WorkTrunk/Agent Teams, and prints a clean post-install summary with "Get started: /mow:new-project".</done>
</task>

<task type="auto">
  <name>Task 2: Create README.md</name>
  <files>README.md</files>
  <action>
  Create `README.md` at the repo root. Structure (reference GSD's README pattern but with Mowism branding):

  1. **Title and tagline:** "Mowism" with a one-line description: coordinated multi-agent workflows for Claude Code with worktree-aware state and automated quality gates.

  2. **What is Mowism:** 2-3 paragraphs explaining the core value proposition. Multiple Claude Code agents working in parallel across git worktrees with shared state, quality checks, and optional Agent Teams coordination. Mention it's a fork of GSD, redesigned for parallel multi-agent workflows.

  3. **Install:**
     ```
     git clone https://github.com/maxkreischer/mowism.git
     cd mowism
     ./bin/install.sh
     ```
     Per locked decision: two steps (git clone + ./install.sh), no curl|bash.

  4. **Quick start:** After install, run `/mow:new-project` to initialize your first project. Brief description of the workflow: new-project -> plan-phase -> execute-phase -> refine-phase.

  5. **Features:** Bullet list of key features:
     - `/mow:*` command namespace (30+ commands)
     - Worktree-aware state tracking (STATE.md tracks which agent is doing what)
     - `/mow:refine-phase` automated quality gates (minimum/complex/algorithmic tiers)
     - Agent Teams integration (optional, for parallel execution)
     - Quality skills: scope-check, simplify, dead-code-sweep, prove-it, grill-me, change-summary, update-claude-md
     - `???` suffix for inline help on any command

  6. **Requirements:**
     - Claude Code (required)
     - Node.js (required for mow-tools.cjs)
     - WorkTrunk (required for worktree management)
     - Agent Teams env var (optional, for parallel execution)

  7. **Commands reference:** Brief categorized list of key commands (not exhaustive, point to `/mow:help` for full list). Categories: Getting Started, Planning, Execution, Quality, Management.

  8. **Help:** Mention `/mow:help` for full command list and `???` suffix (e.g., `/mow:execute-phase ???`) for detailed help.

  9. **License and attribution:** Note fork origin from GSD with link.

  Keep the README concise and scannable. No walls of text. Use code blocks for commands.
  </action>
  <verify>Read README.md and confirm it has: install instructions (git clone + ./install.sh), quick start with /mow:new-project, features list, requirements, and attribution.</verify>
  <done>README.md exists at repo root with install instructions, quick start guide, feature overview, requirements, and GSD attribution.</done>
</task>

</tasks>

<verification>
- `bash -n bin/install.sh` passes syntax check
- `bin/install.sh` runs without errors and copies files to ~/.claude/
- README.md contains install instructions matching locked decision (git clone + ./install.sh)
- README.md mentions all key features including Agent Teams and quality gates
</verification>

<success_criteria>
- install.sh copies commands, skills, and bin to ~/.claude/ correctly
- install.sh checks Node.js, WorkTrunk, and Agent Teams without blocking
- install.sh prints clean post-install summary per locked decision
- README.md provides complete getting-started guide for new users
</success_criteria>

<output>
After completion, create `.planning/phases/03-agent-teams-and-distribution/03-02-SUMMARY.md`
</output>
