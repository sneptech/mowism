---
phase: 03-agent-teams-and-distribution
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - mowism/workflows/
  - mowism/templates/
  - mowism/references/
  - mowism/bin/
  - mowism/VERSION
  - agents/mow-codebase-mapper.md
  - agents/mow-debugger.md
  - agents/mow-executor.md
  - agents/mow-integration-checker.md
  - agents/mow-phase-researcher.md
  - agents/mow-plan-checker.md
  - agents/mow-planner.md
  - agents/mow-project-researcher.md
  - agents/mow-research-synthesizer.md
  - agents/mow-roadmapper.md
  - agents/mow-verifier.md
  - bin/install.sh
  - README.md
autonomous: true
requirements:
  - DIST-01
  - DIST-03
  - DIST-04
  - DIST-05

must_haves:
  truths:
    - "mowism/ directory exists in the repo with workflows, templates, references, bin, and VERSION -- matching what Phase 1 installed to ~/.claude/mowism/"
    - "agents/ directory exists in the repo with all mow-*.md agent definitions -- matching what Phase 1 installed to ~/.claude/agents/"
    - "User can run ./install.sh and all /mow:* commands, agents, workflows, templates, references, bin, and help files are copied to ~/.claude/"
    - "Install script checks for Node.js, WorkTrunk, and Agent Teams and reports status without blocking on missing deps"
    - "Post-install summary shows what was installed, what deps are missing, and suggests /mow:new-project"
    - "README.md explains what Mowism is, how to install (git clone + ./install.sh), and how to use"
    - "help files are copied to ~/.claude/mowism/help/ by install.sh"
  artifacts:
    - path: "mowism/workflows/"
      provides: "Mowism workflow definitions in repo (source for install)"
    - path: "agents/mow-verifier.md"
      provides: "Example agent definition in repo (source for install)"
    - path: "bin/install.sh"
      provides: "One-command install script"
      min_lines: 50
    - path: "README.md"
      provides: "GitHub README for distribution"
      min_lines: 40
  key_links:
    - from: "bin/install.sh"
      to: "~/.claude/commands/mow/"
      via: "cp command files"
      pattern: "commands/mow"
    - from: "bin/install.sh"
      to: "~/.claude/mowism/"
      via: "cp -r mowism/ directory (unconditional)"
      pattern: "cp -r.*mowism"
    - from: "bin/install.sh"
      to: "~/.claude/mowism/help/"
      via: "cp -r help/ files"
      pattern: "help"
    - from: "bin/install.sh"
      to: "~/.claude/agents/"
      via: "cp agent definitions"
      pattern: "agents/mow-"
    - from: "bin/install.sh"
      to: "command -v wt"
      via: "WorkTrunk dependency check"
      pattern: "command -v wt"
---

<objective>
Bring all Mowism source files into the git repo and create the install script and GitHub README for distribution.

Purpose: Phase 1 installed Mowism files directly to ~/.claude/ but never committed the source (workflows, templates, references, agents) to the git repo. For distribution to work, these files MUST exist in the repo so install.sh can copy them. New users git clone the repo and run ./install.sh.

Output: mowism/ directory in repo, agents/ directory in repo, bin/install.sh (executable), README.md
</objective>

<execution_context>
@/home/max/.claude/get-shit-done/workflows/execute-plan.md
@/home/max/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-agent-teams-and-distribution/03-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy Mowism core files and agents into the git repo</name>
  <files>mowism/, agents/</files>
  <action>
  The mowism core files (workflows, templates, references, bin, VERSION) currently live at ~/.claude/mowism/ and were placed there during Phase 1 fork. The agent definitions live at ~/.claude/agents/mow-*.md. These files need to be IN the git repo so that install.sh can copy them to new users' machines.

  1. **Copy mowism/ directory into the repo root:**
     ```bash
     cp -r ~/.claude/mowism/ /home/max/git/mowism/mowism/
     ```
     This should bring over: workflows/, templates/, references/, bin/, VERSION

  2. **Create agents/ directory in repo and copy agent definitions:**
     ```bash
     mkdir -p /home/max/git/mowism/agents/
     cp ~/.claude/agents/mow-*.md /home/max/git/mowism/agents/
     ```
     This copies all 11 mow-*.md agent files.

  3. **Copy any remaining commands from ~/.claude/commands/mow/ that are not yet in the repo:**
     The repo currently has only 2 command files in commands/mow/ (refine-phase.md, worktree-status.md) but Phase 1 installed ~32 commands to ~/.claude/commands/mow/. Copy the missing ones:
     ```bash
     cp ~/.claude/commands/mow/*.md /home/max/git/mowism/commands/mow/
     ```
     This will overwrite the 2 existing files (which is fine -- they should match) and add the ~30 missing ones.

  4. **Verify the repo now has all source files:**
     - `ls mowism/workflows/ | wc -l` should show workflow files
     - `ls agents/mow-*.md | wc -l` should be 11
     - `ls commands/mow/*.md | wc -l` should be ~32

  Do NOT modify any file contents. This is purely a copy operation to get source files into the repo for distribution.
  </action>
  <verify>Run `ls mowism/workflows/ | head -5` to confirm workflows exist in repo. Run `ls agents/mow-*.md | wc -l` to confirm 11 agent files. Run `ls commands/mow/*.md | wc -l` to confirm ~32 command files.</verify>
  <done>mowism/ directory exists in repo with workflows, templates, references, bin, VERSION. agents/ directory exists with all 11 mow-*.md files. commands/mow/ has all ~32 command files. The repo now contains all source files needed for install.sh to distribute.</done>
</task>

<task type="auto">
  <name>Task 2: Create install.sh</name>
  <files>bin/install.sh</files>
  <action>
  Create `bin/install.sh` as a bash script (`#!/bin/bash`, `set -euo pipefail`). The script:

  1. **Determine paths:**
     - `MOWISM_SRC` = directory containing install.sh (the repo root, one level up from bin/)
     - `CLAUDE_DIR` = `$HOME/.claude`
     - `MOWISM_DEST` = `$CLAUDE_DIR/mowism`

  2. **Create directories:**
     - `$CLAUDE_DIR/commands/mow/`
     - `$CLAUDE_DIR/agents/`
     - `$MOWISM_DEST/` (and subdirs: workflows, templates, references, bin, help)

  3. **Copy files (unconditional -- all source files now exist in repo after Task 1):**
     - `cp "$MOWISM_SRC/commands/mow/"*.md "$CLAUDE_DIR/commands/mow/"` -- all /mow:* command files
     - `cp "$MOWISM_SRC/commands/"*.md "$CLAUDE_DIR/commands/"` -- top-level quality skills (scope-check, simplify, etc.)
     - `cp "$MOWISM_SRC/agents/mow-"*.md "$CLAUDE_DIR/agents/"` -- all agent definitions
     - `cp -r "$MOWISM_SRC/mowism/workflows" "$MOWISM_DEST/"` -- workflow definitions
     - `cp -r "$MOWISM_SRC/mowism/templates" "$MOWISM_DEST/"` -- templates
     - `cp -r "$MOWISM_SRC/mowism/references" "$MOWISM_DEST/"` -- references
     - `cp "$MOWISM_SRC/mowism/VERSION" "$MOWISM_DEST/"` -- version file
     - `cp "$MOWISM_SRC/bin/mow-tools.cjs" "$MOWISM_DEST/bin/"` -- mow-tools
     - `cp -r "$MOWISM_SRC/help/" "$MOWISM_DEST/help/"` -- help files for ??? system (CRITICAL: without this, /mow:help-open has no content to open)

     **No conditional checks.** All these directories exist in the repo after Task 1. If help/ doesn't exist yet (Plan 03-03 creates it), the script should guard with `[ -d "$MOWISM_SRC/help" ] && cp -r "$MOWISM_SRC/help/" "$MOWISM_DEST/help/"` since install.sh may be run before help files are created during initial development.

  4. **Check dependencies (check and report per locked decision, NEVER block):**
     - Node.js: `command -v node` -- MISSING message includes "Required for mow-tools.cjs" and install link
     - WorkTrunk: `command -v wt` -- MISSING message includes "Required for multi-worktree workflows" and install commands for Arch, macOS, Cargo (DIST-03)
     - Agent Teams: check `$CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS` -- NOT ENABLED message says "(optional but recommended)" with exact enable instructions: shell export and settings.json snippet (DIST-04)

  5. **Post-install summary (per locked decision, reference GSD pattern):**
     ```
     Mowism installed successfully!

     Installed to: ~/.claude/
       Commands:  X files in commands/mow/
       Skills:    Y files in commands/
       Agents:    Z agent definitions
       Workflows: W files
       Bin:       mow-tools.cjs
       Help:      H files (if help/ existed)

     Dependencies:
       Node.js:     vXX.X [OK] / MISSING
       WorkTrunk:   vX.X [OK] / MISSING
       Agent Teams: ENABLED [OK] / NOT ENABLED (optional)

     Get started:  /mow:new-project
     Need help:    /mow:help
     ```

  6. Make the script executable: the Write tool creates the file, so also run `chmod +x bin/install.sh`.

  Per locked decision: install scope is global only (~/.claude/). No local project installs. Dependencies are checked and reported, never block installation.
  </action>
  <verify>Run `bash -n bin/install.sh` to syntax-check the script. Then `chmod +x bin/install.sh && bin/install.sh` to test the install (safe -- it copies to ~/.claude/ which already has these files from Phase 1).</verify>
  <done>install.sh unconditionally copies all command, agent, workflow, template, reference, bin, and help files to ~/.claude/. Checks Node.js/WorkTrunk/Agent Teams. Prints clean post-install summary with "Get started: /mow:new-project".</done>
</task>

<task type="auto">
  <name>Task 3: Create README.md</name>
  <files>README.md</files>
  <action>
  Create `README.md` at the repo root. Structure (reference GSD's README pattern but with Mowism branding):

  1. **Title and tagline:** "Mowism" with a one-line description: coordinated multi-agent workflows for Claude Code with worktree-aware state and automated quality gates.

  2. **What is Mowism:** 2-3 paragraphs explaining the core value proposition. Multiple Claude Code agents working in parallel across git worktrees with shared state, quality checks, and optional Agent Teams coordination. Mention it's a fork of GSD, redesigned for parallel multi-agent workflows.

  3. **Install:**
     ```
     git clone https://github.com/maxkreischer/mowism.git
     cd mowism
     ./bin/install.sh
     ```
     Per locked decision: two steps (git clone + ./install.sh), no curl|bash.

  4. **Quick start:** After install, run `/mow:new-project` to initialize your first project. Brief description of the workflow: new-project -> plan-phase -> execute-phase -> refine-phase.

  5. **Features:** Bullet list of key features:
     - `/mow:*` command namespace (30+ commands)
     - Worktree-aware state tracking (STATE.md tracks which agent is doing what)
     - `/mow:refine-phase` automated quality gates (minimum/complex/algorithmic tiers)
     - Agent Teams integration (optional, for parallel execution)
     - Quality skills: scope-check, simplify, dead-code-sweep, prove-it, grill-me, change-summary, update-claude-md
     - `???` suffix for inline help on any command

  6. **Requirements:**
     - Claude Code (required)
     - Node.js (required for mow-tools.cjs)
     - WorkTrunk (required for worktree management)
     - Agent Teams env var (optional, for parallel execution)

  7. **Commands reference:** Brief categorized list of key commands (not exhaustive, point to `/mow:help` for full list). Categories: Getting Started, Planning, Execution, Quality, Management.

  8. **Help:** Mention `/mow:help` for full command list and `???` suffix (e.g., `/mow:execute-phase ???`) for detailed help.

  9. **License and attribution:** Note fork origin from GSD with link.

  Keep the README concise and scannable. No walls of text. Use code blocks for commands.
  </action>
  <verify>Read README.md and confirm it has: install instructions (git clone + ./install.sh), quick start with /mow:new-project, features list, requirements, and attribution.</verify>
  <done>README.md exists at repo root with install instructions, quick start guide, feature overview, requirements, and GSD attribution.</done>
</task>

</tasks>

<verification>
- `ls mowism/workflows/ | wc -l` shows workflow files in repo
- `ls agents/mow-*.md | wc -l` is 11
- `bash -n bin/install.sh` passes syntax check
- `bin/install.sh` runs without errors and copies files to ~/.claude/
- install.sh copies help/ files to ~/.claude/mowism/help/ (guard for existence)
- README.md contains install instructions matching locked decision (git clone + ./install.sh)
- README.md mentions all key features including Agent Teams and quality gates
</verification>

<success_criteria>
- mowism/ and agents/ directories exist in the repo with all source files from Phase 1
- install.sh unconditionally copies commands, agents, workflows, templates, references, bin, and help to ~/.claude/
- install.sh checks Node.js, WorkTrunk, and Agent Teams without blocking
- install.sh prints clean post-install summary per locked decision
- README.md provides complete getting-started guide for new users
</success_criteria>

<output>
After completion, create `.planning/phases/03-agent-teams-and-distribution/03-02-SUMMARY.md`
</output>
