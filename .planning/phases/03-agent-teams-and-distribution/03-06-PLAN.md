---
phase: 03-agent-teams-and-distribution
plan: 06
type: execute
wave: 3
depends_on:
  - "03-01"
  - "03-02"
  - "03-03"
  - "03-04"
  - "03-05"
files_modified: []
autonomous: true
requirements:
  - TEAM-01
  - TEAM-02
  - TEAM-03
  - TEAM-04
  - TEAM-05
  - DIST-01
  - DIST-02
  - DIST-03
  - DIST-04
  - DIST-05

must_haves:
  truths:
    - "All 10 Phase 3 requirements (TEAM-01..05, DIST-01..05) are satisfied by delivered artifacts"
    - "All tests pass (existing + new Agent Teams tests)"
    - "Install script runs without errors"
    - "No broken cross-references between commands, workflows, agents, and help files"
    - "README.md accurately reflects installed capabilities"
  artifacts: []
  key_links:
    - from: "bin/mow-tools.cjs"
      to: ".planning/STATE.md"
      via: "team-status and team-update subcommands"
      pattern: "team-status|team-update"
    - from: "agents/mow-team-lead.md"
      to: "Agent Teams API"
      via: "Teammate and TaskCreate primitives"
      pattern: "spawnTeam|TaskCreate"
    - from: "bin/install.sh"
      to: "~/.claude/"
      via: "file copy operations"
      pattern: "cp.*claude"
---

<objective>
Validate all Phase 3 requirements end-to-end without code changes.

Purpose: Confirm that all 10 requirements (TEAM-01..05, DIST-01..05) are satisfied by the artifacts produced in Plans 03-01 through 03-05. This is a read-only validation sweep -- if issues are found, they are documented but fixes go into gap closure plans, not this plan.

Output: Validation results confirming Phase 3 completeness.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-agent-teams-and-distribution/03-01-SUMMARY.md
@.planning/phases/03-agent-teams-and-distribution/03-02-SUMMARY.md
@.planning/phases/03-agent-teams-and-distribution/03-03-SUMMARY.md
@.planning/phases/03-agent-teams-and-distribution/03-04-SUMMARY.md
@.planning/phases/03-agent-teams-and-distribution/03-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Validate Agent Teams requirements (TEAM-01..05)</name>
  <files></files>
  <action>
  Read-only validation of each TEAM requirement against delivered artifacts:

  **TEAM-01**: `/mow:new-project` offers Agent Teams setup
  - Read `~/.claude/mowism/workflows/new-project.md` and confirm it contains Agent Teams offer logic (check for `agent_teams_enabled`, team setup offer, mow-team-lead reference)

  **TEAM-02**: `/mow:resume-work` offers team re-spawn
  - Read `~/.claude/mowism/workflows/resume-project.md` and confirm it checks for previous team activity in STATE.md and offers re-spawn

  **TEAM-03**: Lead orchestrator tracks state
  - Read `agents/mow-team-lead.md` (or `~/.claude/agents/mow-team-lead.md`) and confirm it contains: spawnTeam, TaskCreate, TaskUpdate with addBlockedBy, worker spawning via Task with team_name, STATE.md updates via mow-tools.cjs team-update, explicit "NEVER implement" constraint

  **TEAM-04**: Nudge when Agent Teams not enabled
  - Run `node bin/mow-tools.cjs init new-project --raw` and confirm output contains `agent_teams_enabled`
  - Read new-project.md workflow and confirm prominent nudge with exact enable instructions
  - Read execute-phase.md workflow and confirm nudge logic
  - Read new-project.md and confirm "don't remind me" dismiss support

  **TEAM-05**: STATE.md tracks agent team status
  - Run `node bin/mow-tools.cjs team-status --raw` and confirm structured output
  - Test team-update: create a temp .planning/STATE.md, run `team-update --action start`, verify section created, run `team-update --action stop`, verify section removed

  For each requirement: record PASS or FAIL with evidence.
  </action>
  <verify>All 5 TEAM requirements validated with evidence.</verify>
  <done>TEAM-01 through TEAM-05 all PASS or specific gaps documented.</done>
</task>

<task type="auto">
  <name>Task 2: Validate Distribution requirements (DIST-01..05) and run full test suite</name>
  <files></files>
  <action>
  Read-only validation of each DIST requirement:

  **DIST-01**: One-command install script
  - Read `bin/install.sh` and confirm it: copies commands, skills, agents, bin to ~/.claude/; runs without errors (`bash -n bin/install.sh`); prints post-install summary
  - Run install.sh in dry-check mode (syntax validation only) or confirm previous execution succeeded

  **DIST-02**: ??? suffix opens help in $EDITOR
  - Read `commands/mow/help-open.md` and confirm it handles argument parsing, editor fallback chain ($VISUAL -> $EDITOR -> nano -> vi -> less), and file existence checking
  - Count help files: `ls help/*.md | wc -l` should be >= 32
  - Spot-check 3 help files for correct format (Usage, Examples, Related sections)

  **DIST-03**: Install checks for WorkTrunk
  - Read `bin/install.sh` and confirm it contains `command -v wt` check with install instructions

  **DIST-04**: Install checks for Agent Teams env var
  - Read `bin/install.sh` and confirm it checks `CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS` and reports status as optional

  **DIST-05**: GitHub README
  - Read `README.md` and confirm it has: project description, install instructions (git clone + ./install.sh), quick start, features list, requirements, attribution

  **Full test suite:**
  - Run `node bin/mow-tools.test.cjs` and confirm all tests pass (existing + new Agent Teams tests)

  **Cross-reference check:**
  - Verify help files reference only commands that exist
  - Verify install.sh copies all directories that exist in repo
  - Verify README install instructions match actual install.sh location

  For each requirement: record PASS or FAIL with evidence.
  </action>
  <verify>All 5 DIST requirements validated. Full test suite passes. No broken cross-references.</verify>
  <done>All 10 Phase 3 requirements (TEAM-01..05, DIST-01..05) validated PASS or specific gaps documented for closure.</done>
</task>

</tasks>

<verification>
- All 10 requirements validated with evidence
- `node bin/mow-tools.test.cjs` passes all tests
- `bash -n bin/install.sh` passes syntax check
- No broken cross-references between artifacts
</verification>

<success_criteria>
- Every TEAM-* and DIST-* requirement has PASS verdict with evidence
- Full test suite passes
- If any requirement FAILs, the gap is clearly documented for gap closure
- Phase 3 can be marked complete if all requirements PASS
</success_criteria>

<output>
After completion, create `.planning/phases/03-agent-teams-and-distribution/03-06-SUMMARY.md`
</output>
