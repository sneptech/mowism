---
milestone: v1.0
audited: 2026-02-20T17:40:15Z
status: gaps_found
scores:
  requirements: 35/36
  phases: 3/3
  integration: 34/36
  flows: 5/6
gaps:
  requirements:
    - id: "DIST-04"
      status: "partial"
      phase: "Phase 3"
      claimed_by_plans: ["03-02-PLAN.md"]
      completed_by_plans: ["03-02-SUMMARY.md", "03-06-SUMMARY.md"]
      verification_status: "passed (but integration mismatch)"
      evidence: "install.sh recommends CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=true but checkAgentTeams() only detects =1. Users following install instructions get permanent nudge."
  integration:
    - id: "hardcoded-paths"
      severity: "HIGH"
      affects: ["DIST-01", "CORE-01", "CORE-03"]
      description: "31/33 workflow files, 32/34 command files, and 9/12 agent files use /home/max/.claude/ as hardcoded paths. install.sh copies these without substitution. Product only works on developer's machine."
      fix: "install.sh must substitute s|/home/max/.claude|$HOME/.claude|g in all copied files, or source files must use $HOME/~"
    - id: "env-var-mismatch"
      severity: "MEDIUM"
      affects: ["DIST-04", "TEAM-04"]
      description: "install.sh recommends =true but checkAgentTeams() requires ='1'. Users who follow install instructions will never have Agent Teams detected."
      fix: "Accept both '1' and 'true' in checkAgentTeams(), or change install.sh to recommend =1"
  flows:
    - flow: "Install for non-max user"
      breaks_at: "All mow-tools.cjs invocations fail with 'No such file or directory' due to hardcoded /home/max/ paths"
tech_debt:
  - phase: 03-agent-teams-and-distribution
    items:
      - "mowism/bin/mow-tools.cjs is stale Phase 1 snapshot (28KB smaller than bin/mow-tools.cjs) — dead content in repo"
      - "mowism/bin/mow-tools.test.cjs similarly stale (2346 lines vs 2729 in bin/)"
---

# Milestone v1.0 Audit Report

**Audited:** 2026-02-20
**Status:** gaps_found
**Score:** 35/36 requirements satisfied (1 partial)

## Phase Verification Summary

| Phase | Status | Score | Verified |
|-------|--------|-------|----------|
| 1. Fork and Foundation | passed | 4/4 truths, 13/13 requirements | 2026-02-19 |
| 2. Worktree State and Quality Gates | passed | 14/14 truths, 14/14 requirements | 2026-02-19 |
| 3. Agent Teams and Distribution | passed | 5/5 truths, 10/10 requirements | 2026-02-19 |

All 3 phases passed individual verification. Gaps emerged from cross-phase integration checking.

## Requirements 3-Source Cross-Reference

All 36 v1 requirements verified across 3 sources:

| Category | IDs | VERIFICATION.md | SUMMARY Frontmatter | REQUIREMENTS.md | Status |
|----------|-----|-----------------|---------------------|-----------------|--------|
| Core Framework | CORE-01..06 | Phase 1: SATISFIED | Claimed by 01-01..06 | `[x]` | satisfied |
| Quality Skills | SKIL-01..07 | Phase 1: SATISFIED | Claimed by 01-03, 01-06 | `[x]` | satisfied |
| Worktree Mgmt | WKTR-01..05 | Phase 2: SATISFIED | Claimed by 02-01..05 | `[x]` | satisfied |
| Quality Gate | GATE-01..09 | Phase 2: SATISFIED | Claimed by 02-01..05 | `[x]` | satisfied |
| Agent Teams | TEAM-01..05 | Phase 3: SATISFIED | Claimed by 03-01..06 | `[x]` | satisfied |
| Distribution | DIST-01..03,05 | Phase 3: SATISFIED | Claimed by 03-02..06 | `[x]` | satisfied |
| Distribution | DIST-04 | Phase 3: SATISFIED | Claimed by 03-02, 03-06 | `[x]` | **partial** |

**Orphaned requirements:** 0

## Integration Check Results

### Gap 1 (HIGH): Hardcoded /home/max/ paths break non-developer installs

**Affects:** DIST-01, CORE-01, CORE-03
**Severity:** HIGH — blocks real-world distribution

31/33 workflow files, 32/34 command files, and 9/12 agent files contain hardcoded `/home/max/.claude/` paths. `bin/install.sh` copies these files without path substitution. On any machine other than the developer's, every `mow-tools.cjs` invocation fails with "No such file or directory".

**Files using correct portable paths (exceptions):**
- `commands/mow/help-open.md` — uses `$HOME/.claude/`
- `commands/mow/team-status.md` — uses `~/.claude/`
- `agents/mow-team-lead.md` — uses `~/.claude/`
- `bin/install.sh` — uses `$HOME/.claude`
- All 7 quality skill commands — no mow-tools dependency

**Fix:** `install.sh` must substitute `/home/max/.claude` → `$HOME/.claude` in all copied files, or source files must be rewritten to use `$HOME`/`~`.

### Gap 2 (MEDIUM): Agent Teams env var value mismatch

**Affects:** DIST-04, TEAM-04
**Severity:** MEDIUM

`install.sh` tells users: `export CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=true`
`checkAgentTeams()` in mow-tools.cjs only accepts: `=== '1'`

Users following the install instructions will never have Agent Teams detected. Nudge appears permanently.

**Fix:** Accept both `'1'` and `'true'` in `checkAgentTeams()`, or change install.sh to recommend `=1`.

## Tech Debt

### Phase 3: Agent Teams and Distribution
- `mowism/bin/mow-tools.cjs` is a stale Phase 1 snapshot (189KB vs 217KB current) — dead content
- `mowism/bin/mow-tools.test.cjs` similarly stale (2346 lines vs 2729 current)

## E2E Flow Verification

| Flow | Status | Issue |
|------|--------|-------|
| Install (DIST-01) | broken for non-max | Hardcoded paths (Gap 1) |
| New Project + Agent Teams (CORE-01, TEAM-01, TEAM-04) | works on dev machine | — |
| Execute Phase + Worktree Tracking (WKTR-02..05) | works on dev machine | — |
| Quality Gate Chain (GATE-01..09) | works on dev machine | — |
| ??? Help System (DIST-02) | works | — |
| Agent Teams Re-spawn (TEAM-02) | works on dev machine | — |

## Human Verification Items (from phase reports)

- Live Agent Teams multi-session coordination (requires real Claude Code + env var)
- Editor opening on `???` suffix (requires running Claude Code session)
- Nudge dismiss persistence across sessions
- WorkTrunk post-create hook execution in real worktree creation
- End-to-end conflict detection across real worktrees
- `/mow:refine-phase` tier selection UX in live session

---

*Audited: 2026-02-20*
*Integration checker: Claude (mow-integration-checker)*
